<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Quantitative metadata vocabulary for entities — q_metadata • DaparToolshed</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Quantitative metadata vocabulary for entities — q_metadata"><meta property="og:description" content="This function gives the vocabulary used for the quantitative metadata of each entity in
each condition.
This function is based on the qMetadata dataframe to look for either missing
values (used to update an initial dataset) or imputed values (used when
post processing protein qMetadata after aggregation)
In the quantitative columns, a missing value is identified by no value rather
than a value equal to 0.
Conversion rules
Quanti			Tag
NA or 0		NA
In the quantitative columns, a missing value is identified by no value rather
than a value equal to 0.
Conversion rules
Initial conversion rules for maxquant
|--------------|-----------------|-----|
| Quanti       |    PSM count    | Tag |
|--------------|-----------------|-----|
|  == 0 | N.A.	|   whatever 			| 2.0 |
|  &amp;gt; 0		  		|    &amp;gt; 0		     	| 1.1 |
|  &amp;gt; 0		  		|    == 0	      	| 1.2 |
|  &amp;gt; 0		  		|   unknown col   | 1.0 |
|--------------|-----------------|-----|
Initial conversion rules for maxquant
|------------|-----------------------|--------|
| Quanti     |     Identification    |    Tag |
|------------|-----------------------|--------|
|  == 0			|       whatever 				|    2.0 |
|  &amp;gt; 0				|       'By MS/MS'			|    1.1 |
|  &amp;gt; 0				|      'By matching'		|    1.2 |
|  &amp;gt; 0				|       unknown col			|    1.0 |
|------------|-----------------------|--------|
Similar to the function is.na but focused on the equality with
the paramter 'type'.
Update the quantitative metadata information of missing values that were imputed
Gives all the tags of the metadata vocabulary containing the pattern
(parent and all its children).
Agregation rules for the cells quantitative metadata of peptides.
Please refer to the qMetadata.def vocabulary in qMetadata.def()"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DaparToolshed</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/samWieczorek/DaparToolshed/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Quantitative metadata vocabulary for entities</h1>
    <small class="dont-index">Source: <a href="https://github.com/samWieczorek/DaparToolshed/blob/HEAD/R/qMetadata.R" class="external-link"><code>R/qMetadata.R</code></a>, <a href="https://github.com/samWieczorek/DaparToolshed/blob/HEAD/R/mod_qMetadataLegend.R" class="external-link"><code>R/mod_qMetadataLegend.R</code></a></small>
    <div class="hidden name"><code>q_metadata.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function gives the vocabulary used for the quantitative metadata of each entity in
each condition.</p>
<p>This function is based on the qMetadata dataframe to look for either missing
values (used to update an initial dataset) or imputed values (used when
post processing protein qMetadata after aggregation)</p>
<p>In the quantitative columns, a missing value is identified by no value rather
than a value equal to 0.
Conversion rules
Quanti			Tag
NA or 0		NA</p>
<p>In the quantitative columns, a missing value is identified by no value rather
than a value equal to 0.
Conversion rules
Initial conversion rules for maxquant</p>
<p>|--------------|-----------------|-----|
| Quanti       |    PSM count    | Tag |
|--------------|-----------------|-----|
|  == 0 | N.A.	|   whatever 			| 2.0 |
|  &gt; 0		  		|    &gt; 0		     	| 1.1 |
|  &gt; 0		  		|    == 0	      	| 1.2 |
|  &gt; 0		  		|   unknown col   | 1.0 |
|--------------|-----------------|-----|</p>
<p>Initial conversion rules for maxquant
|------------|-----------------------|--------|
| Quanti     |     Identification    |    Tag |
|------------|-----------------------|--------|
|  == 0			|       whatever 				|    2.0 |
|  &gt; 0				|       'By MS/MS'			|    1.1 |
|  &gt; 0				|      'By matching'		|    1.2 |
|  &gt; 0				|       unknown col			|    1.0 |
|------------|-----------------------|--------|</p>
<p>Similar to the function <code>is.na</code> but focused on the equality with
the paramter 'type'.</p>
<p>Update the quantitative metadata information of missing values that were imputed</p>
<p>Gives all the tags of the metadata vocabulary containing the pattern
(parent and all its children).</p>
<p>Agregation rules for the cells quantitative metadata of peptides.
Please refer to the qMetadata.def vocabulary in <code>qMetadata.def()</code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">qMetadata.def</span><span class="op">(</span><span class="va">level</span><span class="op">)</span>

<span class="fu">Set_POV_MEC_tags</span><span class="op">(</span><span class="va">conds</span>, <span class="va">df</span>, <span class="va">level</span><span class="op">)</span>

<span class="fu">BuildqMetadata</span><span class="op">(</span>from <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">level</span>, qdata <span class="op">=</span> <span class="cn">NULL</span>, conds <span class="op">=</span> <span class="cn">NULL</span>, df <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">qMetadata_generic</span><span class="op">(</span><span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">level</span><span class="op">)</span>

<span class="fu">qMetadata_proline</span><span class="op">(</span><span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">df</span>, level <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">qMetadata_maxquant</span><span class="op">(</span><span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">df</span>, level <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">match.qMetadata</span><span class="op">(</span><span class="va">df</span>, <span class="va">pattern</span>, <span class="va">level</span><span class="op">)</span>

<span class="co"># S4 method for SummarizedExperiment</span>
<span class="fu"><a href="https://rdrr.io/pkg/DaparToolshed/man/UpdateqMetadata.html" class="external-link">UpdateqMetadata</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">from</span>, <span class="va">to</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">search.qMetadata.tags</span><span class="op">(</span><span class="va">pattern</span>, <span class="va">level</span>, depth <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span>

<span class="fu">qMetadata_combine</span><span class="op">(</span><span class="va">met</span>, <span class="va">level</span><span class="op">)</span>

<span class="fu">mod_qMetadataLegend_ui</span><span class="op">(</span><span class="va">id</span><span class="op">)</span>

<span class="fu">mod_qMetadataLegend_server</span><span class="op">(</span><span class="va">id</span>, hide.white <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>level</dt>
<dd><p>xxx</p></dd>
<dt>conds</dt>
<dd><p>xxx</p></dd>
<dt>df</dt>
<dd><p>A data.frame</p></dd>
<dt>from</dt>
<dd><p>xxx</p></dd>
<dt>qdata</dt>
<dd><p>A matrix of quantitative data</p></dd>
<dt>pattern</dt>
<dd><p>The string to search.</p></dd>
<dt>object</dt>
<dd><p>xxx</p></dd>
<dt>to</dt>
<dd><p>xxx</p></dd>
<dt>...</dt>
<dd><p>xxx</p></dd>
<dt>depth</dt>
<dd><p>xxx</p></dd>
<dt>met</dt>
<dd><p>xxx</p></dd>
<dt>id</dt>
<dd><p>The 'id' of the shiny module.</p></dd>
<dt>hide.white</dt>
<dd><p>A <code>logical(1)</code> that indicate if xxx</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data.frame containing the different tags and corresponding colors for the level
given in parameter
An instance of class <code>MSnSet</code>.
xxxxx
xxxxx
xxxxx
xxxxx
A boolean dataframe
NA
NA</p>
    </div>
    <div id="glossary">
    <h2>Glossary</h2>
    


<p>Peptide-level vocabulary</p>
<p>|-- 1.0 Quantitative Value
|    |
|    |-- 1.1 Identified (color 4, white)
|    |
|    |-- 1.2 Recovered (color 3, lightgrey)
|
|-- 2.0 Missing value (no color)
|    |
|    |-- 2.1 Missing POV (color 1)
|    |
|    |-- 2.2 Missing MEC (color 2)
|
|-- 3.0 Imputed value
|    |
|    |-- 3.1 Imputed POV (color 1)
|    |
|    |-- 3.2 Imputed MEC (color 2)</p>
<p>Protein-level vocabulary:</p>
<p>|-- 1.0 Quantitative Value
|    |
|    |-- 1.1 Identified (color 4, white)
|    |
|    |-- 1.2 Recovered (color 3, lightgrey)
|
|-- 2.0 Missing value
|    |
|    |-- 2.1 Missing POV (color 1)
|    |
|    |-- 2.2 Missing MEC (color 2)
|
|-- 3.0 Imputed value
|    |
|    |-- 3.1 Imputed POV (color 1)
|    |
|    |-- 3.2 Imputed MEC (color 2)
|
|-- 4.0 Combined value (color 3bis, light-lightgrey)</p>
    </div>
    <div id="conversion-to-the-glossary">
    <h2>Conversion to the glossary</h2>
    


<p>A generic conversion</p>
<p>Conversion for Proline datasets</p>
<p>Conversion from Maxquant datasets</p>
    </div>
    <div id="basic-agreagtion">
    <h2>Basic agreagtion</h2>
    <p>Agregation of non imputed values (2.X) with quantitative values
(1.0, 1.X, 3.0, 3.X)
|----------------------------
Not possible
|----------------------------</p><table class="table table"><tr><td>Agregation of different types of missing values (among 2.1, 2.2)</td></tr><tr><td></td></tr></table><ul><li><p>Agregation of 2.1 peptides between each other gives a missing value
non imputed (2.0)</p></li>
<li><p>Agreagtion of 2.2 peptides between each other givesa missing value
non imputed (2.0)</p></li>
<li><p>Agregation of a mix of 2.1 and 2.2 gives a missing value non imputed (2.0)
|----------------------------</p></li>
</ul><table class="table table"><tr><td>Agregation of a mix of quantitative values (among 1.0, 1.1, 1.2, 3.0, 3.X)</td></tr><tr><td></td></tr></table><ul><li><p>if the type of all the peptides to agregate is 1.0, 1.1 or 1.2,
then the final metadata is set the this tag</p></li>
<li><p>if the set of metacell to agregate is a mix of 1.0, 1.1 or 1.2,
then the final metadata is set to 1.0</p></li>
<li><p>if the set of metacell to agregate is a mix of 3.X and 3.0,
then the final metadata is set to 3.0</p></li>
<li><p>if the set of metacell to agregate is a mix of 3.X and 3.0 and other (X.X),
then the final metadata is set to 4.0
|----------------------------</p></li>
</ul></div>
    <div id="post-processing">
    <h2>Post processing</h2>
    <p>Update metacell with POV/MEC status for the categories 2.0 and 3.0
TODO</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Thomas Burger, Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
<p>Samuel Wieczorek</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#-----------------------------------------------</span></span>
<span class="r-in"><span class="co"># A shiny app to view color legends </span></span>
<span class="r-in"><span class="co">#-----------------------------------------------</span></span>
<span class="r-in"><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ft</span><span class="op">)</span></span>
<span class="r-in"><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">mod_qMetadataLegend_ui</span><span class="op">(</span><span class="st">"legend"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu">mod_qMetadataLegend_server</span><span class="op">(</span><span class="st">'legend'</span>,</span>
<span class="r-in">                                object <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span><span class="va">ft</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in">  </span>
<span class="r-in"> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span>
<span class="r-in">  </span>
<span class="r-in">  </span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ft_na</span><span class="op">)</span></span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">assay</span><span class="op">(</span><span class="va">ft_na</span>, <span class="fl">2</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in value[[3L]](cond):</span> 'assay(&lt;ExperimentList&gt;, i="numeric", ...)' invalid subscript 'i'</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> error in evaluating the argument 'x' in selecting a method for function 'assay': subscript is out of bounds</span>
<span class="r-in"><span class="va">level</span> <span class="op">&lt;-</span> <span class="fu">typeDataset</span><span class="op">(</span><span class="va">ft_na</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">Set_POV_MEC_tags</span><span class="op">(</span><span class="va">ft_na</span>, <span class="fl">1</span>, <span class="va">level</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in unique.default(conds):</span> unique() applies only to vectors</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Exp1_R25_pept.txt"</span>, package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">file</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>,stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(file, header = TRUE, sep = "\t", stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">metadataFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"samples_Exp1_R25.txt"</span>, </span>
<span class="r-in">package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">metadataFile</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>, as.is<span class="op">=</span><span class="cn">TRUE</span>, </span>
<span class="r-in">stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(metadataFile, header = TRUE, sep = "\t", as.is = TRUE,     stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">conds</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">$</span><span class="va">Condition</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in metadata$Condition:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">qdata</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>,<span class="fl">56</span><span class="op">:</span><span class="fl">61</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[, 56:61]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span> , <span class="fl">43</span><span class="op">:</span><span class="fl">48</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[, 43:48]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">BuildqMetadata</span><span class="op">(</span><span class="st">'maxquant'</span>, <span class="st">'peptide'</span>, <span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">df</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in BuildqMetadata("maxquant", "peptide", qdata, conds, df):</span> object 'qdata' not found</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">BuildqMetadata</span><span class="op">(</span><span class="st">'proline'</span>, <span class="st">'peptide'</span>, <span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">df</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in BuildqMetadata("proline", "peptide", qdata, conds, df):</span> object 'qdata' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Exp1_R25_pept.txt"</span>, package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">file</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>,stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(file, header = TRUE, sep = "\t", stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">metadataFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"samples_Exp1_R25.txt"</span>, </span>
<span class="r-in">package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">metadataFile</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>, as.is<span class="op">=</span><span class="cn">TRUE</span>, </span>
<span class="r-in">stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(metadataFile, header = TRUE, sep = "\t", as.is = TRUE,     stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">conds</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">$</span><span class="va">Condition</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in metadata$Condition:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">qdata</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">56</span>, <span class="fl">61</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[seq_len(100), seq(56, 61)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> , <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">43</span>,<span class="fl">48</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[seq_len(100), seq(43, 48)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">qMetadata_generic</span><span class="op">(</span><span class="va">qdata</span>, <span class="va">conds</span>, <span class="st">'peptide'</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in nrow(qdata):</span> object 'qdata' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># \donttest{ </span></span>
<span class="r-in"><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Exp1_R25_pept.txt"</span>, package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">file</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>,stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(file, header = TRUE, sep = "\t", stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">metadataFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"samples_Exp1_R25.txt"</span>, </span>
<span class="r-in">package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">metadataFile</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>, as.is<span class="op">=</span><span class="cn">TRUE</span>, </span>
<span class="r-in">stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(metadataFile, header = TRUE, sep = "\t", as.is = TRUE,     stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">conds</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">$</span><span class="va">Condition</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in metadata$Condition:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">qdata</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">56</span>, <span class="fl">61</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[seq_len(100), seq(56, 61)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> , <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">43</span>, <span class="fl">48</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[seq_len(100), seq(43, 48)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">qMetadata_proline</span><span class="op">(</span><span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">df</span>, <span class="st">'peptide'</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in qMetadata_proline(qdata, conds, df, "peptide"):</span> object 'qdata' not found</span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Exp1_R25_pept.txt"</span>, package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">file</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>,stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(file, header = TRUE, sep = "\t", stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">metadataFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"samples_Exp1_R25.txt"</span>, </span>
<span class="r-in">package<span class="op">=</span><span class="st">"DaparToolshedData"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="va">metadataFile</span>, header<span class="op">=</span><span class="cn">TRUE</span>, sep<span class="op">=</span><span class="st">"\t"</span>, as.is<span class="op">=</span><span class="cn">TRUE</span>, </span>
<span class="r-in">stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read.table(metadataFile, header = TRUE, sep = "\t", as.is = TRUE,     stringsAsFactors = FALSE):</span> no lines available in input</span>
<span class="r-in"><span class="va">conds</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">$</span><span class="va">Condition</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in metadata$Condition:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">qdata</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">56</span>, <span class="fl">61</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[seq_len(10), seq(56, 61)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> , <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">43</span>, <span class="fl">48</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[seq_len(10), seq(43, 48)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu">qMetadata_maxquant</span><span class="op">(</span><span class="va">qdata</span>, <span class="va">conds</span>, <span class="va">df</span>, <span class="st">'peptide'</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in qMetadata_maxquant(qdata, conds, df, "peptide"):</span> object 'qdata' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ft</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>data set 'ft' not found</span>
<span class="r-in"><span class="va">obj</span> <span class="op">&lt;-</span> <span class="va">ft</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'ft' not found</span>
<span class="r-in"><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu">qMetadata</span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in h(simpleError(msg, call)):</span> error in evaluating the argument 'object' in selecting a method for function 'qMetadata': object 'obj' not found</span>
<span class="r-in"><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu">match.qMetadata</span><span class="op">(</span><span class="va">metadata</span>, <span class="st">"missing"</span>, <span class="st">'peptide'</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in as.data.frame(df) == x:</span> comparison (1) is possible only for atomic and list types</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">obj</span> <span class="op">&lt;-</span> <span class="va">Exp1_R25_pept</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,<span class="op">]</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'Exp1_R25_pept' not found</span>
<span class="r-in"><span class="va">obj</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DaparToolshed/man/UpdateqMetadata.html" class="external-link">UpdateqMetadata</a></span><span class="op">(</span><span class="va">obj</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, <span class="st">'missing'</span>, <span class="st">'imputed'</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in h(simpleError(msg, call)):</span> error in evaluating the argument 'object' in selecting a method for function 'UpdateqMetadata': object 'obj' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">search.qMetadata.tags</span><span class="op">(</span><span class="st">'missing POV'</span>, <span class="st">'peptide'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "missing POV"</span>
<span class="r-in"><span class="fu">search.qMetadata.tags</span><span class="op">(</span><span class="st">'quanti'</span>, <span class="st">'peptide'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "quanti"     "identified" "recovered" </span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">ll</span> <span class="op">&lt;-</span> <span class="fu">qMetadata.def</span><span class="op">(</span><span class="st">'peptide'</span><span class="op">)</span><span class="op">$</span><span class="va">node</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ll</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/combn.html" class="external-link">combn</a></span><span class="op">(</span><span class="va">ll</span>, <span class="va">i</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span class="r-in"><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">tag</span> <span class="op">&lt;-</span> <span class="fu">qMetadata_combine</span><span class="op">(</span><span class="va">x</span>, <span class="st">'peptide'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Samuel Wieczorek, Thomas Burger.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

