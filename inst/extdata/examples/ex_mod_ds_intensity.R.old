library(DaparViz)


data(vData_ft)
obj <- vData_ft[[1]]


ds_intensity <- function(obj,
                         withTracking = FALSE){
ui <- fluidPage(
  tagList(
    mod_plots_tracking_ui('tracker'),
    mod_ds_intensity_ui("iplot")
  )
)

server <- function(input, output, session) {
  indices <- mod_plots_tracking_server("tracker", 
                                       obj = reactive({obj}))
  
  mod_ds_intensity_server("iplot",
                          obj = reactive({obj}),
                          track.indices = reactive({indices()})
                          )
    }


  shinyApp(ui = ui, server = server)
}